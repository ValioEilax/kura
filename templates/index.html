{% extends "base.html" %}

{% block title %}Kura - Kurssien Arvostelut{% endblock %}

{% block content %}
<header class="site-header">
  <div class="brand">
    <h1 class="brand-title">Kura</h1>
    <p class="subtitle">Kurssien Rehelliset Arvostelut</p>
  </div>
</header>

<main class="site-main">
  <section class="section courses-section">
    <h2 class="section-title">Yhteisön suorittamia kursseja</h2>
    {% if courses %}
      <ul class="course-list">
        {% for course in courses %}
          <li class="course-item">
            <a class="user-link" href="/user/{{ course.user_id }}">{{ course.username }}</a>
            suoritti kurssin:
            <a class="course-link" href="/course/{{ course.id }}">{{ course.code }} {{ course.name }} ({{ course.credits }} op)</a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="empty-state">Ei lisättyjä kursseja</p>
    {% endif %}
  </section>

  <section class="section reviews-section">
    <h2 class="section-title">Yhteisön lisäämiä arvosteluja kursseista</h2>
    {% if reviews %}
      <ul class="review-list">
        {% for review in reviews %}
          <li class="review-item">
            <a class="user-link" href="/user/{{ review.user_id }}">{{ review.reviewer_name }}</a>
            antoi kurssille
            <a class="review-link" href="/course/{{ review.course_id }}/show_review">
              {{ review.course_name }}
              {{ "★" * (review.rating | int) }}{{ "☆" * (5 - (review.rating | int)) }}
            </a>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="empty-state">Ei vielä arvosteluja kursseista</p>
    {% endif %}
  </section>
</main>
{% endblock %}
